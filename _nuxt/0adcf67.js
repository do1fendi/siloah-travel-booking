(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{277:function(e,t,r){var content=r(281);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(56).default)("afa1b1f6",content,!0,{sourceMap:!1})},278:function(e,t,r){"use strict";r.r(t);r(4),r(3),r(1),r(5),r(2),r(6);var o=r(0),l=r(66);function n(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={data:function(){var e=new Date;return{phoneCode:[],formTraveler:{lastTName:"",firstTName:"",birthday:"",identityNumber:"",mobileCountryCode:"",mobile:"",email:""},index:null,disableFutureDate:new Date(e.getFullYear(),e.getMonth(),e.getDate()),setFieldBorder:"setFieldBorder"}},computed:m(m(m(m({},Object(l.b)("form",["GET_TRAVELER","GET_TRAVELERNUMBER","GET_FORM"])),Object(l.b)("country",["GET_PHONECODE"])),Object(l.c)("form",["SET_TRAVELER"])),{},{travelerCount:function(){return this.GET_TRAVELERNUMBER},valLNState:function(){return this.formTraveler.lastTName.length>=1},valFNState:function(){return this.formTraveler.firstTName.length>=1},valBirthdayState:function(){return this.formTraveler.birthday.length>=1},valIDState:function(){return this.formTraveler.identityNumber.length>=5},valMobileState:function(){return this.formTraveler.mobile.length>=5},valEmailState:function(){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.formTraveler.email.toLowerCase())}}),created:function(){this.travelerNumber=this.GET_TRAVELERNUMBER,this.phoneCode=this.GET_PHONECODE},methods:{showTravelerForm:function(e){this.formTraveler={lastTName:"",firstTName:"",birthday:"",identityNumber:"",mobileCountryCode:"",mobile:"",email:""},void 0===e?(this.index=null,this.phoneCode=this.GET_PHONECODE,this.formTraveler.mobileCountryCode="+886"):(this.formTraveler.lastTName=this.GET_TRAVELER[e].lastTName,this.formTraveler.firstTName=this.GET_TRAVELER[e].firstTName,this.formTraveler.birthday=this.GET_TRAVELER[e].birthday,this.formTraveler.identityNumber=this.GET_TRAVELER[e].identityNumber,this.formTraveler.mobileCountryCode=this.GET_TRAVELER[e].mobileCountryCode,this.formTraveler.mobile=this.GET_TRAVELER[e].mobile,this.formTraveler.email=this.GET_TRAVELER[e].email,this.index=e),this.$bvModal.show("travelerForm")},handleForm:function(e){if(this.validateFormTraveler()){var t={index:this.index,form:this.formTraveler};this.$store.commit("form/SET_TRAVELER",t)}else e.preventDefault()},copyData:function(){this.formTraveler.lastTName=this.GET_FORM.regLastname,this.formTraveler.firstTName=this.GET_FORM.regFirstname,this.formTraveler.mobileCountryCode=this.GET_FORM.regPhoneCode,this.formTraveler.mobile=this.GET_FORM.regPhoneNumber,this.formTraveler.email=this.GET_FORM.regEmail},validateFormTraveler:function(){return this.valLNState?this.valFNState?this.valBirthdayState?this.valIDState?this.valMobileState?!!this.valEmailState||(this.$refs.em.$el.focus(),!1):(this.$refs.mb.$el.focus(),!1):(this.$refs.id.$el.focus(),!1):(this.$refs.birth.$el.focus(),!1):(this.$refs.fn.$el.focus(),!1):(this.$refs.ln.$el.focus(),!1)}}},c=(r(280),r(39)),component=Object(c.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"traveler-form"},[r("b-modal",{attrs:{id:"travelerForm","no-close-on-backdrop":"","hide-header-close":"",size:"lg"},on:{ok:e.handleForm},scopedSlots:e._u([{key:"modal-header",fn:function(){return[r("div",{staticClass:"modalHeader w-100 text-center"},[r("span",{staticClass:"text-capitalize modalTitle"},[e._v("traveler")]),e._v(" "),e.travelerCount?e._e():r("b-button",{attrs:{size:"sm",variant:"outline-secondary"},on:{click:e.copyData}},[e._v("與訂購人相同")])],1)]},proxy:!0}])},[e._v(" "),r("b-form",[r("b-form-row",{staticClass:"mb-2"},[r("b-col",[r("b-form-input",{ref:"ln",class:e.setFieldBorder,attrs:{state:e.valLNState,placeholder:"Enter Last Name / 姓氏"},model:{value:e.formTraveler.lastTName,callback:function(t){e.$set(e.formTraveler,"lastTName",t)},expression:"formTraveler.lastTName"}})],1),e._v(" "),r("b-col",[r("b-form-input",{ref:"fn",class:e.setFieldBorder,attrs:{state:e.valFNState,placeholder:"Enter First Name / 名字"},model:{value:e.formTraveler.firstTName,callback:function(t){e.$set(e.formTraveler,"firstTName",t)},expression:"formTraveler.firstTName"}})],1),e._v(" "),r("b-col",{attrs:{md:"auto"}},[r("b-form-datepicker",{ref:"birth",class:e.setFieldBorder,attrs:{id:"datepicker-placeholder",state:e.valBirthdayState,placeholder:"Birthday",locale:"en",max:e.disableFutureDate},model:{value:e.formTraveler.birthday,callback:function(t){e.$set(e.formTraveler,"birthday",t)},expression:"formTraveler.birthday"}})],1)],1),e._v(" "),r("b-form-row",[r("b-col",[r("b-form-input",{ref:"id",class:e.setFieldBorder,attrs:{state:e.valIDState,placeholder:"Passport / 身分證字號"},model:{value:e.formTraveler.identityNumber,callback:function(t){e.$set(e.formTraveler,"identityNumber",t)},expression:"formTraveler.identityNumber"}})],1)],1),e._v(" "),r("b-form-row",{staticClass:"mt-2"},[r("b-col",[r("b-form-select",{attrs:{options:e.phoneCode},model:{value:e.formTraveler.mobileCountryCode,callback:function(t){e.$set(e.formTraveler,"mobileCountryCode",t)},expression:"formTraveler.mobileCountryCode"}})],1),e._v(" "),r("b-col",[r("b-form-input",{ref:"mb",class:e.setFieldBorder,attrs:{state:e.valMobileState,placeholder:"Mobile / 手機",type:"number"},model:{value:e.formTraveler.mobile,callback:function(t){e.$set(e.formTraveler,"mobile",t)},expression:"formTraveler.mobile"}})],1)],1),e._v(" "),r("b-form-row",{staticClass:"mt-2"},[r("b-col",[r("b-form-input",{ref:"em",class:e.setFieldBorder,attrs:{state:e.valEmailState,placeholder:"Email"},model:{value:e.formTraveler.email,callback:function(t){e.$set(e.formTraveler,"email",t)},expression:"formTraveler.email"}})],1)],1)],1)],1)],1)}),[],!1,null,"0544c222",null);t.default=component.exports},280:function(e,t,r){"use strict";r(277)},281:function(e,t,r){var o=r(55)(!1);o.push([e.i,".modalTitle[data-v-0544c222]{font-size:1.2rem;font-weight:600}.setFieldBorder[data-v-0544c222]{border:1px solid #ced4da}",""]),e.exports=o}}]);