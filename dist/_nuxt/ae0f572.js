(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{291:function(t,e,r){var content=r(299);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(56).default)("7c37113d",content,!0,{sourceMap:!1})},298:function(t,e,r){"use strict";r(291)},299:function(t,e,r){var o=r(55)(!1);o.push([t.i,".tappay[data-v-3ade4623]{width:70%;margin:auto}",""]),t.exports=o},310:function(t,e,r){"use strict";r.r(e);r(18);var o={head:function(){return{title:"payment",script:[{hid:"tappay",src:"https://js.tappaysdk.com/tpdirect/v5.1.0",defer:!0},{src:"https://code.jquery.com/jquery-3.2.1.min.js"}]}},middleware:function(t){t.store,t.redirect},mounted:function(){this.$nextTick((function(){function t(t){$(t).addClass("has-error"),$(t).removeClass("has-success")}function e(t){$(t).removeClass("has-error"),$(t).addClass("has-success")}function r(t){$(t).removeClass("has-error"),$(t).removeClass("has-success")}TPDirect.setupSDK(16793,"app_zCImCZAJruKAPRC2nKemqebjVbDX2GAx9MFtuylDGcfyFFHOEZnAiej4UmKT","sandbox"),TPDirect.card.setup({fields:{number:{element:".form-control.card-number",placeholder:"**** **** **** ****"},expirationDate:{element:document.getElementById("tappay-expiration-date"),placeholder:"MM / YY"},ccv:{element:$(".form-control.cvc")[0],placeholder:"後三碼"}},styles:{input:{color:"gray"},"input.ccv":{},":focus":{color:"black"},".valid":{color:"green"},".invalid":{color:"red"},"@media screen and (max-width: 400px)":{input:{color:"orange"}}}}),TPDirect.card.onUpdate((function(o){o.canGetPrime?$('button[type="submit"]').removeAttr("disabled"):$('button[type="submit"]').attr("disabled",!0);var c="unknown"===o.cardType?"":o.cardType;$("#cardtype").text(c),2===o.status.number?t(".card-number-group"):0===o.status.number?e(".card-number-group"):r(".card-number-group"),2===o.status.expiry?t(".expiration-date-group"):0===o.status.expiry?e(".expiration-date-group"):r(".expiration-date-group"),2===o.status.cvc?t(".cvc-group"):0===o.status.cvc?e(".cvc-group"):r(".cvc-group")}))}))},methods:{onSubmit:function(t){t.preventDefault();var e=TPDirect.card.getTappayFieldsStatus();console.log(e),!1!==e.canGetPrime?TPDirect.card.getPrime((function(t){if(0===t.status){if(alert("get prime 成功，prime: "+t.card.prime),t.card.prime){var data=JSON.stringify({prime:"".concat(t.card.prime),amount:"1",merchant_id:"siloah_CTBC",details:"Some item",cardholder:{phone_number:"+886923456789",name:"王小明",email:"LittleMing@Wang.com",zip_code:"100",address:"台北市天龍區芝麻街1號1樓",national_id:"A123456789"}});fetch("http://localhost/tappayPay/credit.php",{method:"post",body:data}).then((function(t){return t.json()})).then((function(data){return console.log(data)})).catch((function(t){console.error("Error:",t)}))}}else alert("get prime error "+t.msg)})):alert("can not get prime")}}},c=(r(298),r(39)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tappay"},[r("b-form",{on:{submit:t.onSubmit}},[r("div",{staticClass:"form-group"},[r("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Email address")]),t._v(" "),r("input",{staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1",placeholder:"Email"}})]),t._v(" "),r("div",{staticClass:"form-group card-number-group"},[r("label",{staticClass:"control-label",attrs:{for:"card-number"}},[r("span",{attrs:{id:"cardtype"}}),t._v("卡號")]),t._v(" "),r("div",{staticClass:"form-control card-number"})]),t._v(" "),r("div",{staticClass:"form-group expiration-date-group"},[r("label",{staticClass:"control-label",attrs:{for:"expiration-date"}},[t._v("卡片到期日")]),t._v(" "),r("div",{staticClass:"form-control expiration-date",attrs:{id:"tappay-expiration-date"}})]),t._v(" "),r("div",{staticClass:"form-group cvc-group"},[r("label",{staticClass:"control-label",attrs:{for:"cvc"}},[t._v("卡片後三碼")]),t._v(" "),r("div",{staticClass:"form-control cvc"})]),t._v(" "),r("b-col",{staticClass:"text-right pr-0"},[r("b-button",{attrs:{type:"submit",variant:"warning"}},[t._v("Pay")])],1)],1)],1)}),[],!1,null,"3ade4623",null);e.default=component.exports}}]);